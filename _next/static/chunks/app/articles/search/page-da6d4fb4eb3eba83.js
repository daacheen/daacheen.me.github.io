(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{5411:function(e,r,n){Promise.resolve().then(n.bind(n,5519)),Promise.resolve().then(n.bind(n,9395))},5519:function(e,r,n){"use strict";n.r(r),n.d(r,{SearchBar:function(){return SearchBar},SearchCard:function(){return SearchCard},TagsCard:function(){return TagsCard},WebsiteCard:function(){return WebsiteCard}});var t=n(2987),a=n(5374),s=n.n(a),i=n(5049),c=n.n(i),l=n(6396),d=n(7317),o=n(3240),u=n(7266),h=n(2560),m=n(6041),x=n.n(m);let IconLink=e=>{let{href:r,children:n,target:a}=e;return(0,t.jsx)(c(),{className:"link link-hover flex items-center my-1 space-x-1",href:r,target:a,children:n})},WebsiteCard=()=>(0,t.jsx)("div",{className:"card card-bordered bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("h2",{className:"card-title",children:[(0,t.jsx)(o.ssk,{})," ddadaal.me | ",(0,t.jsx)(h.Vd,{id:"blogIntro.subtitle"})]}),(0,t.jsx)("p",{children:(0,t.jsx)(h.Vd,{id:"blogIntro.description2"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(IconLink,{href:"https://github.com/ddadaal/ddadaal.me",target:"_blank",children:[(0,t.jsx)(o.tvD,{}),(0,t.jsx)("span",{children:(0,t.jsx)(h.Vd,{id:"blogIntro.sourceCode"})})]}),(0,t.jsxs)(IconLink,{href:"/rss.xml",target:"_blank",children:[(0,t.jsx)(o.FZ6,{})," ",(0,t.jsx)("span",{children:"RSS"})]}),(0,t.jsxs)(IconLink,{href:"/feedback",children:[(0,t.jsx)(o.ajU,{}),(0,t.jsx)("span",{children:(0,t.jsx)(h.Vd,{id:"blogIntro.feedback"})})]})]})]})}),TagsPanel=e=>{let{tagCounts:r}=e,n=(0,h.QT)();return(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>{let{tag:r,count:a}=e;return(0,t.jsxs)(c(),{href:{pathname:"/articles/search",query:{query:r}},className:"rounded-box p-1 text-sm text-base-content bg-base-200 hover:bg-base-300 transition",children:[(0,u.M)(n.currentLanguage.id,r),(0,t.jsx)("div",{className:"badge badge-outline badge-accent text-accent-content ml-1 p-1",children:a})]},r)})})},TagsCard=e=>{let{tagCounts:r}=e;return(0,t.jsx)("div",{className:"card card-bordered bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("h2",{className:"card-title",children:[(0,t.jsx)(o.YxP,{}),(0,t.jsx)(h.Vd,{id:"tagsCard.title"})]}),(0,t.jsx)(TagsPanel,{tagCounts:r})]})})},SearchBarInput=e=>(0,t.jsx)("input",{type:"text",className:"input input-bordered w-full",name:"query",autoComplete:"off",...e}),QuerySyncedSearchBarInput=e=>{var r;let{placeholder:n}=e,a=(0,l.useSearchParams)(),s=null!==(r=a.get("query"))&&void 0!==r?r:void 0,[i,c]=(0,d.useState)(s);return(0,d.useEffect)(()=>{c(s)},[s]),(0,t.jsx)(SearchBarInput,{placeholder:n,value:i,onChange:e=>{c(e.target.value)}})},SearchBar=e=>{let{articleCount:r,showTags:n,tagCounts:a}=e,i=(0,h.QT)(),c=(0,l.useRouter)(),u=i.translateToString("search.inputPlaceholder",[r]);return(0,t.jsxs)("div",{className:s()("form-control my-2",{[x().search_bar]:n}),children:[(0,t.jsxs)("form",{className:"input-group",action:"/articles/search",method:"GET",onSubmit:e=>{e.preventDefault(),c.push("/articles/search?query="+encodeURIComponent(e.currentTarget.query.value))},children:[(0,t.jsx)(d.Suspense,{fallback:(0,t.jsx)(SearchBarInput,{placeholder:u}),children:(0,t.jsx)(QuerySyncedSearchBarInput,{placeholder:u})}),(0,t.jsx)("button",{type:"submit",className:"btn btn-square",children:(0,t.jsx)(o.U41,{})})]}),n?(0,t.jsx)("div",{className:s()("hidden p-4 border border-neutral",x().search_bar_tags),children:(0,t.jsx)(TagsPanel,{tagCounts:a})}):void 0]})},SearchCard=e=>{let{articleCount:r,tagCounts:n,showTags:a}=e;return(0,t.jsx)("div",{className:"card card-bordered bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("h2",{className:"card-title",children:[(0,t.jsx)(o.U41,{}),(0,t.jsx)(h.Vd,{id:"search.cardTitle"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(SearchBar,{articleCount:r,showTags:a,tagCounts:n})})]})})}},9395:function(e,r,n){"use strict";n.r(r),n.d(r,{ArticleSearchPage:function(){return ArticleSearchPage}});var t=n(2987),a=n(5374),s=n.n(a),i=n(5725),c=n(5049),l=n.n(c),d=n(6396),o=n(7317),u=n(3240),h=n(5519),m=n(6626),x=n(2560),g=n(3241);let intParse=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseInt(e);return isNaN(n)?r:n},f=["similarity","time","timeDesc"],j=(0,x.O4)("search.order."),ArticleSearchPage=e=>{var r,n;let{index:a,articleListInfos:c,articleCount:p,tagCounts:b}=e,v=(0,x.QT)(),[N]=(0,o.useState)(()=>i.Z.loadJSON(a,{fields:["title","content","tags"]})),y=Object.fromEntries((0,d.useSearchParams)().entries()),S=(0,d.usePathname)(),C=null!==(r=y.query)&&void 0!==r?r:"",k=intParse(null!==(n=y.page)&&void 0!==n?n:"1",1),T=y.order;T&&f.includes(T)||(T=f[0]);let w=N.search(C);w.sort((e,r)=>{if("similarity"===T)return e.score-r.score;let findArticle=e=>{var r;let n=c.find(r=>r.id===e.id);return null!==(r=n.langVersions.find(e=>e.lang===v.currentLanguage.id))&&void 0!==r?r:n.langVersions[0]},n=findArticle(e),t=findArticle(r),a=(0,g.E)(n.date).toMillis()-(0,g.E)(t.date).toMillis();return"time"===T?a:-a});let I=Math.ceil(w.length/5);return(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("div",{className:"lg:hidden max-w-full my-4",children:(0,t.jsx)(h.SearchBar,{showTags:!0,tagCounts:b,articleCount:p})}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsxs)("h1",{className:"text-3xl flex items-center",children:[(0,t.jsx)(x.Vd,{id:"search.title",args:[(0,t.jsx)("span",{className:"pr-2 font-bold",children:C},"query")]}),"(",w.length,")"]}),(0,t.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,t.jsxs)("label",{tabIndex:0,className:"btn m-1",children:[(0,t.jsx)(u.roE,{}),(0,t.jsx)(x.Vd,{id:j(T)})]}),(0,t.jsx)("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52",children:f.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:{pathname:S,query:{...y,order:e}},children:(0,t.jsx)(x.Vd,{id:j(e)})})},e))})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:w.slice(5*(k-1),5*k).map(e=>{let r=c.find(r=>r.id===e.id);return(0,t.jsx)(m.i,{article:r},r.id)})}),(0,t.jsx)("div",{className:"flex justify-center w-full my-2",children:(0,t.jsx)("div",{className:"join flex-wrap",children:Array.from({length:I},(e,r)=>r+1).map(e=>(0,t.jsx)(l(),{href:{pathname:S,query:{...y,page:e}},children:(0,t.jsx)("button",{className:s()("join-item","btn",{"btn-active":e===k}),children:e})},e))})})]})}},990:function(e,r,n){"use strict";n.r(r),n.d(r,{ArticleFrontmatter:function(){return ArticleFrontmatter}});var t=n(2987),a=n(5374),s=n.n(a),i=n(5049),c=n.n(i),l=n(2256),d=n(3240),o=n(4284),u=n(7266),h=n(2560),m=n(3241);let ArticleFrontmatter=e=>{let{articleId:r,info:n,className:a,langVersions:i}=e,x=(0,h.QT)();return(0,t.jsxs)("div",{className:s()("flex flex-wrap gap-3 my-2 text-sm",a),children:[n.tags?(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",children:[(0,t.jsx)(d.fxx,{}),n.tags.map(e=>(0,t.jsx)(c(),{href:{pathname:"/articles/search",query:{query:e}},className:"badge badge-accent mx-0.5 text-accent-content",children:(0,u.M)(x.currentLanguage.id,e)},e))]}):void 0,(0,t.jsxs)("div",{className:"flex items-center",title:x.translateToString("articleFrontmatter.date"),children:[(0,t.jsx)(d.XdU,{}),(0,t.jsx)("span",{className:"mx-0.5",children:(0,m.o)((0,m.E)(n.date))})]}),n.last_updated?(0,t.jsxs)("div",{className:"flex items-center",title:x.translateToString("articleFrontmatter.lastUpdated"),children:[(0,t.jsx)(d.OS,{}),(0,t.jsx)("span",{className:"mx-0.5",children:(0,m.o)((0,m.E)(n.last_updated))})]}):void 0,(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.baU,{}),(0,t.jsx)("span",{className:"mx-0.5",children:(0,t.jsx)(h.Vd,{id:"articleFrontmatter.wordCount",args:[n.wordCount]})})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.qyc,{}),(0,t.jsx)("span",{className:"mx-0.5",children:(0,t.jsx)(h.Vd,{id:"articleFrontmatter.timeToRead",args:[Math.ceil(n.readingTime)]})})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.ssk,{}),(0,t.jsx)("span",{className:"mx-0.5 space-x-1",children:i.map(e=>{var a,s;return(0,t.jsx)(c(),{className:"link link-hover",href:(0,l.join)((0,o.k)({id:r,absolute_path:n.absolute_path}),e),children:null!==(s=null===(a=Object.values(h.Mj).find(r=>r.simplified===e))||void 0===a?void 0:a.name)&&void 0!==s?s:e},e)})})]})]})}},6626:function(e,r,n){"use strict";n.d(r,{i:function(){return ArticleListItem}});var t=n(2987),a=n(5049),s=n.n(a),i=n(990),c=n(2560);let ArticleListItem=e=>{var r;let{article:n}=e,a=(0,c.QT)(),l=null!==(r=n.langVersions.find(e=>e.lang===a.currentLanguage.id))&&void 0!==r?r:n.langVersions[0];return(0,t.jsxs)("div",{children:[(0,t.jsx)(s(),{className:"text-3xl my-2 link link-hover block break-words",href:"/articles/".concat(n.id),children:l.title}),(0,t.jsx)(i.ArticleFrontmatter,{articleId:n.id,info:l,langVersions:n.langVersions.map(e=>e.lang)}),(0,t.jsx)("div",{className:"break-words",children:l.excerpt})]})}},4284:function(e,r,n){"use strict";n.d(r,{k:function(){return getArticleBasePath}});let getArticleBasePath=e=>{var r;return null!==(r=e.absolute_path)&&void 0!==r?r:"/articles/".concat(e.id)}},7266:function(e,r,n){"use strict";n.d(r,{M:function(){return getLocaleTag}});var t=n(2560),a=JSON.parse('[{"tag":"problem-investigation","cn":"问题探究","en":"Problem Investigation"},{"tag":"project","cn":"我的项目","en":"My Projects"},{"tag":"code-trick","cn":"代码技巧","en":"Code Tricks"},{"tag":"web-frontend","cn":"Web前端","en":"Web Front-end"},{"tag":"thoughts","cn":"看法","en":"Thoughts"},{"tag":"hands-on","cn":"上手","en":"Hands On"},{"tag":"blog","cn":"博客","en":"Blog"},{"tag":"math","cn":"数学","en":"Math"},{"tag":"interview-experiences","cn":"面试经验","en":"Interview Experiences"},{"tag":"annual-summary","cn":"年度总结","en":"Annual Summary"},{"tag":"in-class","cn":"课内","en":"In Class"},{"tag":"Microsoft","cn":"微软","en":"Microsoft"},{"tag":"life","cn":"生活","en":"Life"},{"tag":"editor","cn":"编辑器","en":"Editor"},{"tag":"wearables","cn":"可穿戴设备","en":"Wearables"}]');function getLocaleTag(e,r){var n;let s=a.find(e=>e.tag===r);return null!==(n=null==s?void 0:s[(0,t.G3)(e).simplified])&&void 0!==n?n:r}},1591:function(e,r,n){"use strict";n.r(r),n.d(r,{Localized:function(){return i},Provider:function(){return c},prefix:function(){return d},useI18n:function(){return l}});var t=n(202),a=n(9405);let s=(0,t.o)(a.yX),i=s.Localized,c=s.Provider,l=s.useI18n,d=s.prefix},2560:function(e,r,n){"use strict";n.d(r,{G3:function(){return a.G3},Mj:function(){return a.Mj},O4:function(){return t.prefix},QT:function(){return t.useI18n},Vd:function(){return t.Localized},al:function(){return a.al},zt:function(){return t.Provider}});var t=n(1591),a=n(9405)},9405:function(e,r,n){"use strict";n.d(r,{G3:function(){return getLanguage},Mj:function(){return a},al:function(){return s},yX:function(){return t}});let t={"zh-CN":()=>n.e(818).then(n.t.bind(n,4818,19)).then(e=>e.default),"en-US":()=>n.e(985).then(n.t.bind(n,8985,19)).then(e=>e.default)},a={"zh-CN":{gitalkLangId:"zh-CN",simplified:"cn",langStrings:["cn","zh-CN","zh"],htmlLang:"zh-CN",name:"简体中文",icon:()=>"\uD83C\uDDE8\uD83C\uDDF3 "},"en-US":{gitalkLangId:"en",simplified:"en",langStrings:["en","en-US"],htmlLang:"en-US",name:"English",icon:()=>"\uD83C\uDDFA\uD83C\uDDF8 "}},getLanguage=e=>a[e],s="zh-CN";Object.keys(a)},3241:function(e,r,n){"use strict";n.d(r,{E:function(){return fromArticleTime},o:function(){return formatDateTime}});var t=n(876);function formatDateTime(e){return e.toFormat("yyyy-MM-dd HH:mm:ss 'UTC'Z")}function fromArticleTime(e){return t.ou.fromSQL(e,{zone:"Asia/Shanghai"})}},6041:function(e){e.exports={search_bar:"search_search_bar__maOH2",search_bar_tags:"search_search_bar_tags__SGuJt"}}},function(e){e.O(0,[710,671,62,195,338,744],function(){return e(e.s=5411)}),_N_E=e.O()}]);