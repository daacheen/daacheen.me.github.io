{"version":3,"sources":["webpack:///./src/components/Article/CommentPanel.tsx","webpack:///./src/layouts/Page.tsx","webpack:///./src/layouts/LayeredLayout.tsx","webpack:///./src/layouts/BannerLayout.tsx","webpack:///./src/pages/feedback.tsx"],"names":["CommentDiv","styled","div","root","lang","comments","CommentPanel","props","React","useState","isServer","mount","setMount","firstUpdate","useRef","useEffect","current","language","id","title","options","clientID","clientSecret","repo","owner","admin","articleTitle","articleId","substring","distractionFreeMode","undefined","CommentPanelWithCurrentLanguage","i18nStore","useI18nStore","currentLanguage","gitalkLangId","cn","StyledPage","StyledContainer","maxWidth","moveInAnimation","Page","className","children","widths","mainContent","RootContainer","InnerContainer","BannerLayout","transparentHeader","banner","BannerContainer","BaseRootContainer","heights","colors","headerBg","BaseInnerContainer","BannerLayoutTitle","h1","BannerLayoutDescription","h2","feedback","FeedbackPage","titleId","paragraph1","paragraph2","paragraph3","color","size"],"mappings":"qHAAA,0LAiBMA,EAAaC,IAAOC,IAAV,+EAAGD,CAAH,sDAQVE,EAAOC,IAAKC,SAEZC,EAAgC,SAACC,GAAU,MAErBC,IAAMC,UAAUC,eAAnCC,EAFwC,KAEjCC,EAFiC,KAIzCC,EAAcL,IAAMM,QAAO,GAgBjC,OAdAC,qBAAU,WACJF,EAAYG,QACdH,EAAYG,SAAU,EAGxBJ,GAAS,KACR,CAACL,EAAMU,WAEVF,qBAAU,WACHL,eAAeC,GAClBC,GAAS,MAKX,kBAACZ,EAAD,KACE,4BACE,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAiBkB,GAAIf,EAAKgB,SAG1BR,EAEI,kBAAC,IAAD,CAAiBS,QAAS,CACxBC,SAAU,uBACVC,aAAc,2CACdC,KAAM,uBACNC,MAAO,UACPC,MAAO,CAAC,WACRR,SAAUV,EAAMU,SAChBE,MAAO,aAAaZ,EAAMmB,aAC1BR,GAAIX,EAAMoB,UAAUC,UAAU,EAAG,IACjCC,qBAAqB,UAGvBC,IAMNC,EAAqE,SAACxB,GAAU,MAC9EyB,EAAYC,cAElB,OAAO,kBAAC3B,EAAD,iBAAkBC,EAAlB,CAAyBU,SAAQ,UAAEe,EAAUE,gBAAgBC,oBAA5B,QAA4CC,IAAGD,kB,kCC7EzF,6DAKME,EAAapC,IAAOC,IAAV,sEAAGD,CAAH,mKA0BVqC,EAAkBrC,IAAOC,IAAV,2EAAGD,CAAH,kHAKN,qBAAGsC,WAEHC,KAaAC,IAVe,SAAC,GAA2D,IAAzDC,EAAyD,EAAzDA,UAAWC,EAA8C,EAA9CA,SAA8C,IAApCJ,gBAAoC,MAAzBK,IAAOC,YAAkB,EACxF,OACE,kBAACR,EAAD,KACE,kBAACC,EAAD,CAAiBC,SAAUA,EAAUG,UAAWA,GAC7CC,M,kCC7CT,oFAEaG,EAAgB7C,IAAOC,IAAV,mFAAGD,CAAH,wBAIb8C,EAAiB9C,IAAOC,IAAV,oFAAGD,CAAH,oC,oCCN3B,2LAeM+C,EAAgC,SAAC,GAA4C,IAA1CC,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,OAAQP,EAAe,EAAfA,SAClE,OACE,kBAAC,IAAD,CAAoBM,kBAAmBA,GACrC,kBAACH,EAAD,KACE,kBAACC,EAAD,KACE,kBAACI,EAAD,KACGD,KAINP,IAKDG,EAAgB7C,YAAOmD,KAAV,8EAAGnD,CAAH,kDACPoD,IAAQH,OAEEI,IAAOC,UAIvBR,EAAiB9C,YAAOuD,KAAV,+EAAGvD,CAAH,gHACRoD,IAAQH,OAKLV,KAGTW,EAAkBlD,IAAOC,IAAV,gFAAGD,CAAH,4DAMfwD,EAAoBxD,IAAOyD,GAAV,kFAAGzD,CAAH,kCAKjB0D,EAA0B1D,IAAO2D,GAAV,wFAAG3D,CAAH,qC,kCCzD7B,gIAUME,EAAOC,IAAKyD,SAsBHC,UApBgB,WAE7B,OACE,kBAAC,IAAD,CAAoBb,mBAAmB,GACrC,kBAAC,IAAD,CACEc,QAAS5D,EAAKgB,QAEhB,kBAAC,IAAD,KACE,kBAAC,IAAD,KAAmB,kBAAC,IAAD,CAAiBD,GAAIf,EAAKgB,SAC7C,2BAAG,kBAAC,IAAD,CAAiBD,GAAIf,EAAK6D,cAC7B,2BAAG,kBAAC,IAAD,CAAiB9C,GAAIf,EAAK8D,cAC7B,2BAAG,kBAAC,IAAD,CAAiB/C,GAAIf,EAAK+D,cAC7B,kBAAC,IAAD,CAAUC,MAAO,QAASC,KAAM,MAChC,kBAAC,IAAD,CAAiCzC,UAAU,WAAWD,aAAa","file":"component---src-pages-feedback-tsx-3f0ba5a5241782a0a460.js","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport styled from \"styled-components\";\nimport { FaComments } from \"react-icons/fa\";\n\nimport \"gitalk/dist/gitalk.css\";\nimport { LocalizedString } from \"simstate-i18n\";\nimport { lang, cn, useI18nStore } from \"@/i18n\";\nimport GitalkComponent from \"gitalk/dist/gitalk-component\";\nimport isServer from \"@/utils/isServer\";\n\ninterface Props {\n  articleId: string;\n  articleTitle: string;\n  language: string;\n}\n\nconst CommentDiv = styled.div`\n  margin-top: 32px;\n\n  .gt-action-text {\n    color: #6190e8;;\n  }\n`;\n\nconst root = lang.comments;\n\nconst CommentPanel: React.FC<Props> = (props) => {\n\n  const [mount, setMount] = React.useState(!isServer());\n\n  const firstUpdate = React.useRef(true);\n\n  useEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n    setMount(false);\n  }, [props.language]);\n\n  useEffect(() => {\n    if (!isServer() && !mount) {\n      setMount(true);\n    }\n  });\n\n  return (\n    <CommentDiv>\n      <h3>\n        <FaComments />\n        <LocalizedString id={root.title} />\n      </h3>\n      {\n        mount\n          ? (\n            <GitalkComponent options={{\n              clientID: \"5640259688bc3d72b807\",\n              clientSecret: \"bbe26de2fca2ea86e49a98e883caf9ff3102c4ff\",\n              repo: \"ddadaal.me.github.io\",\n              owner: \"ddadaal\",\n              admin: [\"ddadaal\"],\n              language: props.language,\n              title: `[COMMENT] ${props.articleTitle}`,\n              id: props.articleId.substring(0, 50),\n              distractionFreeMode: false,\n            }} />\n          )\n          : undefined\n      }\n    </CommentDiv>\n  );\n};\n\nconst CommentPanelWithCurrentLanguage: React.FC<Omit<Props, \"language\">> = (props) => {\n  const i18nStore = useI18nStore();\n\n  return <CommentPanel {...props} language={i18nStore.currentLanguage.gitalkLangId ?? cn.gitalkLangId} />;\n}\n\nexport { CommentPanel as default, CommentPanelWithCurrentLanguage };\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { widths } from \"@/styles/variables\";\nimport moveInAnimation from \"@/styles/moveInAnimation\";\n\nconst StyledPage = styled.div`\n  display: block;\n  flex: 1;\n  position: relative;\n  padding: 16px;\n\n  img {\n    max-width: 100%;\n  }\n\n  table {\n    display: inline-block;\n    overflow-x: auto;\n  }\n\n  blockquote p:last-child {\n    margin-bottom: 0;\n  }\n`;\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  maxWidth?: number;\n}\n\nconst StyledContainer = styled.div<{ maxWidth: number }>`\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  width: auto;\n  max-width: ${({ maxWidth }) => maxWidth}px;\n\n  animation: ${moveInAnimation} 0.2s ease-out;\n`;\n\nconst Page: React.FC<Props> = ({ className, children, maxWidth = widths.mainContent }) => {\n  return (\n    <StyledPage>\n      <StyledContainer maxWidth={maxWidth} className={className}>\n        {children}\n      </StyledContainer>\n    </StyledPage>\n  );\n}\n\nexport default Page;\n","import styled from \"styled-components\";\n\nexport const RootContainer = styled.div`\n  position: relative;\n`;\n\nexport const InnerContainer = styled.div`\n  position: absolute;\n  width: 100%;\n`;\n","import React from \"react\";\nimport HeaderFooterLayout from \"./HeaderFooterLayout\";\nimport styled from \"styled-components\";\nimport { heights, colors } from \"@/styles/variables\";\nimport {\n  RootContainer as BaseRootContainer,\n  InnerContainer as BaseInnerContainer,\n} from \"@/layouts/LayeredLayout\";\nimport moveInAnimation from \"@/styles/moveInAnimation\";\n\ninterface Props {\n  transparentHeader: boolean;\n  banner: React.ReactNode;\n}\n\nconst BannerLayout: React.FC<Props> = ({ transparentHeader, banner, children }) => {\n  return (\n    <HeaderFooterLayout transparentHeader={transparentHeader}>\n      <RootContainer>\n        <InnerContainer>\n          <BannerContainer>\n            {banner}\n          </BannerContainer>\n        </InnerContainer>\n      </RootContainer>\n      {children}\n    </HeaderFooterLayout>\n  );\n}\n\nconst RootContainer = styled(BaseRootContainer)`\n  height: ${heights.banner}px;\n  width: 100%;\n  background-color: ${colors.headerBg};\n\n`;\n\nconst InnerContainer = styled(BaseInnerContainer)`\n  height: ${heights.banner}px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: ${moveInAnimation} 0.2s ease-out;\n`;\n\nconst BannerContainer = styled.div`\n  text-align: center;\n  color: white;\n  padding: 0px 8px 8px 8px;\n`;\n\nconst BannerLayoutTitle = styled.h1`\n  font-size: 2em;\n  padding: 4px 0;\n`;\n\nconst BannerLayoutDescription = styled.h2`\n  font-size: 0.9em;\n  padding: 4px 0;\n`;\n\nexport { BannerLayout as default, BannerLayoutTitle, BannerLayoutDescription };\n","import React from \"react\";\r\nimport Page from \"@/layouts/Page\";\r\nimport { BannerLayoutTitle } from \"@/layouts/BannerLayout\";\r\nimport { lang } from \"@/i18n\";\r\nimport { LocalizedString } from \"simstate-i18n\";\r\nimport Contacts from \"@/components/Contacts\";\r\nimport { CommentPanelWithCurrentLanguage } from \"@/components/Article/CommentPanel\";\r\nimport HeaderFooterLayout from \"@/layouts/HeaderFooterLayout\";\r\nimport { PageMetadata } from \"@/components/PageMetadata\";\r\n\r\nconst root = lang.feedback;\r\n\r\nconst FeedbackPage: React.FC = () => {\r\n\r\n  return (\r\n    <HeaderFooterLayout transparentHeader={false}>\r\n      <PageMetadata\r\n        titleId={root.title}\r\n      />\r\n      <Page>\r\n        <BannerLayoutTitle><LocalizedString id={root.title} /></BannerLayoutTitle>\r\n        <p><LocalizedString id={root.paragraph1} /></p>\r\n        <p><LocalizedString id={root.paragraph2} /></p>\r\n        <p><LocalizedString id={root.paragraph3} /></p>\r\n        <Contacts color={\"white\"} size={1.4} />\r\n        <CommentPanelWithCurrentLanguage articleId=\"feedback\" articleTitle=\"反馈\" />\r\n      </Page>\r\n    </HeaderFooterLayout>\r\n\r\n  );\r\n}\r\n\r\nexport default FeedbackPage;\r\n"],"sourceRoot":""}