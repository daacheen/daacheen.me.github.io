{
    "componentChunkName": "component---src-templates-article-page-template-tsx",
    "path": "/articles/vpn-as-http-proxy",
    "result": {"pageContext":{"id":"vpn-as-http-proxy","lang":"cn","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"需求"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"虽然放假了，但是学校还有活要做，而且学校的活的代码仓库在学校内建的内网GitLab上，在外网需要VPN才能访问。但是，大家都知道连接VPN会让整个系统里的所有流量都走VPN，但是很多流量其实是不需要走VPN的，比如聊天、看视频网站等，VPN是有带宽限制的，把所有流量都走VPN会使得不需要走VPN的网络请求变慢。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":""},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 41.05263157894738%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkUlEQVQY01VRTUtUYRS+ayG3bdr1KwQ3rqsf0KKFuBJbuBBatbEWFkRC5MqCceGiRWJMEmRCNYmMjk4zOEaOI2YzNMx7P7g3ve97PuOdG0GHBw6cw3Oe85wTMEtuAYmIuAAgIbGI5NY5QEAatlmVmVlFmNkBqWrggH52e9YCseCQLCKAZB2agUEEUR8n3ezR6rdnr9sPSq2NnZ6qEEugqqV3p1OPazOL9ZnF+uRC7UvDqGru0AL1o7w7uMwt7hyGN+9t33m4NzH7+emr76qK5MlSOei/WGuvlDulcmd5rd3+kZJfj7f2+7fnq5MLtbnnjX6U7x6F1Va43TRnvy68Aa9MdPKbNg1+DD22DPYsIxKJVJqD6Sf7c0uN+VLr0nmThQVVtYAiXpnvN7KR9eTaRnL1bTK6Hr/s5KriiAEwvYA4c+DwOLZjm9GNT/H4h+huNRE/XAMmOs9g17h66A5Ct2ecscO78V+ZIh+nOPImuf4+vVJOblVSVRHVgFkKh/9A5H+j/wewHMbQjOBrCGcZFsU/KIWpnhli35YAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"VPN方案下网络流量走向","title":"VPN方案下网络流量走向","src":"/static/775401e257d75f8d1780cbc0f34d7c43/267c0/vpn.png","srcSet":["/static/775401e257d75f8d1780cbc0f34d7c43/5459c/vpn.png 285w","/static/775401e257d75f8d1780cbc0f34d7c43/2cee3/vpn.png 570w","/static/775401e257d75f8d1780cbc0f34d7c43/267c0/vpn.png 1140w","/static/775401e257d75f8d1780cbc0f34d7c43/610c1/vpn.png 1484w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"text","value":"VPN方案下网络流量走向"}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"那么，有没有办法可以让需要访问内网资源的程序走VPN，不需要访问的程序不走VPN呢？"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"代理"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"代理服务器的基本行为就是接收客户端发送的请求后转发给其他服务器。代理不改变请求URI，並不会直接发送给前方持有资源的目标服务器。（"},{"type":"element","tagName":"a","properties":{"href":"https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8"},"children":[{"type":"text","value":"维基百科"}]},{"type":"text","value":"）"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"简单的理解，代理服务器（proxy server）就是一个程序，它会将它收到的流量转发到其他服务器上。这个服务器有可能就是真正的目标服务器，也有可能是其他代理服务器。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"当前大部分程序都支持设置代理服务器。如果一个程序设置了代理服务器，那么它发送的流量将"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"不会"}]},{"type":"text","value":"直接发送到真正的目标服务器上的，而是发送到代理服务器，由代理服务器进行处理后发送到目标服务器上。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":""},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 38.59649122807018%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQY04WR3StDcRzGj39B/BPKFUq5UtwoZe5IcoNw4UIU5mb8D5ZEpOQlWl7KkR3bjJMZmteFsR0ba85vc2znnN/b+eqM3Hp6bp++3+f5CPmCnkUq2LIALEIZpswklHML/pOQQV9H4dh9XLt5zt3HPw1MAcAkFMA6vVOXxJcVb2Jx7+X2+RMTvuFXlg8Sq5KyJMbTyBDCUdQwFGydkB1OuXk0+Jj8AoCCSQBgbOa6usfrGJdr+w7dniek4fpBf1W3t7b/sKJTDEeRkFb13YCyf5ISj1PicVLL2zETMwBYlZTh6cjkwt2I+0o6TyMNt7lOHU65zRVqGglePmSFHGZnGv/xhcYNZleljFPGf4ewLKvY/101OqZCLU65/S/sezNK1j5Kt7Jl29lyjxpB9mWdMLM4GSuaFMOJjN44FKjpleoGfJVd++dRJCgann0szMf0uZi+8FT4MOyHDcIIY78AAH6Gzxt05yS16X/1HCXXJSWTMwVMKQD/M2XMpkUYt/5H9Q0KKpoWIdqNEQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"代理服务器下网络流量走向","title":"代理服务器下网络流量走向","src":"/static/cac52bcbe42f5fae5416db81fab6becc/267c0/proxy.png","srcSet":["/static/cac52bcbe42f5fae5416db81fab6becc/5459c/proxy.png 285w","/static/cac52bcbe42f5fae5416db81fab6becc/2cee3/proxy.png 570w","/static/cac52bcbe42f5fae5416db81fab6becc/267c0/proxy.png 1140w","/static/cac52bcbe42f5fae5416db81fab6becc/0c221/proxy.png 1367w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"text","value":"代理服务器下网络流量走向"}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"如果有在内网的代理服务器……"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果我们有一台在内网的服务器，并且这个服务器可以从公网被访问，那么事情就很简单了："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"我们将在这台服务器上开一个代理程序，这个代理程序就是简单地把收到的请求再转发到真正的目标服务器上。\n然后在我们本机上，把需要内网资源的程序的代理服务器设置为这个服务器的地址。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这样设置之后，我们本地的需要内网资源的程序的流量将会被发送到这个内网的服务器上，内网服务器收到了，将会把请求转发到内网的服务器上。这样，我们的程序就可以访问内网的资源了。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":""},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 36.84210526315789%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVQY01WQS0tCURSF749oFg36IU0bRISS9KBJf6FxKZEEUYMm0aRBg6AcRaAZBCJF0jVT6G3Ri7JS6ur16PGexz57x1Ub9LFhT/Zi7bWslidr1R8ipDZaGyHBk1ppYMwF0ERkDCoF2D3x8aQ2Bi2l9KH9sntUStpf8cynwyQRKQ01JlZjl8vbdyuxh53UmzG4efC6tvu4vve0EX+uNyUiWkQY3SoGw/b0Uj40b189u0QkFHx888mFXCiSDczaM2sXLU9NLeZGI2eBuWwoYleqHhFZUoHgktdFkwnOhDGm48xb6uSiki6UU+flfNFRCo4K5UTmPX5SSue/WNcZIHrLBzON8bNm8LRx4/ohuQTzl7CzmYSJXHM4y4M5PpZtuNL3sEhD+LIxkHZHMmzouH5dU75Y+GJtUBtUgAZ9cf9+tSdR6026fXHHEdB+W4IBIOyO1uC3LTT9BxHvmS44qlBVxbruVP8La7VvNi0DNtAAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"内网代理服务器方案下的网络流量走向","title":"内网代理服务器方案下的网络流量走向","src":"/static/4e0ae1f6233575b727babcb968892d11/267c0/proxy-solution.png","srcSet":["/static/4e0ae1f6233575b727babcb968892d11/5459c/proxy-solution.png 285w","/static/4e0ae1f6233575b727babcb968892d11/2cee3/proxy-solution.png 570w","/static/4e0ae1f6233575b727babcb968892d11/267c0/proxy-solution.png 1140w","/static/4e0ae1f6233575b727babcb968892d11/985e3/proxy-solution.png 1461w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"text","value":"内网代理服务器方案下的网络流量走向"}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"最终方案：把连接到VPN的服务器作为代理"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"那我们没有一台在内网的、可以被公网所访问的服务器怎么办呢？"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这时，VPN的作用就出来了：连接了VPN的电脑的所有流量都会转发到内网去，那么这台电脑就可以被看作一个在内网的服务器。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"我们可以在本机上起一个虚拟机或者docker容器，使这台虚拟机或者容器连接到VPN。同时，在这个虚拟机或者容器上起一个代理程序，工作就是简单地把收到的请求转发到真正的目标服务器上。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"我们将需要走内网的程序的代理设置为这个虚拟机或容器，那么需要走内网的程序的流量将会首先发送到虚拟机或者容器。由于这个虚拟机或容器连接了VPN，那么由这个服务器发送的请求就会走隧道到内网，能够访问到我们需要的内网的服务。而没有设置这个虚拟机或容器为代理服务器的程序的流量将会不经过内网，直接连接到互联网服务。这样，我们的问题就解决了！"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":""},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 34.03508771929824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVQY0z2QSy8DYRSG50/YiB/gZxBLbOzE0sqKdMXGRmxFREIlZSE2LlGXBRYkWkrd2lBhpmqaNigzQ03n8t3OK23x5lmcnOTk5Hk1qRRAQjAQKSImFBEASEVCKiIFKDQiJClF+IuUSnM9Zr64NzmzUK5WaxygrUQ5uvWUvrcA6Ka1eagfZz+OriuuL55f3ONMJXVnpe9t1+NaxnB6xlIDk1fdo6fLB0UAQ1M3HcOJufgTgNXDUsdwcmDionMkkS+702tGVyTZN37eO3ZafKtpVTfUDVs3nIdH27J9AHPx/Hgsd5B+BZA17Jl1PbZbmI/n350glalE1x5jm8bKbt769LWSyxeK4VKJRU2W/ZIAml4Nf/lv2FwuPgeDGS+S8yO3nhVK7eQtaN2x2/e/WnecWd0DwKlekSAKuJQErur4on7cn/rWNj7b9qot245ZE1rIRC38JWCCcdkkbMz/n5stF75F8p2dffBLizNJP+00bC8PpDUPAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"VPN作为HTTP代理服务器的最终方案","title":"VPN作为HTTP代理服务器的最终方案","src":"/static/79b5407a4e5789494fae0de9ef68acde/267c0/vpn-as-proxy.png","srcSet":["/static/79b5407a4e5789494fae0de9ef68acde/5459c/vpn-as-proxy.png 285w","/static/79b5407a4e5789494fae0de9ef68acde/2cee3/vpn-as-proxy.png 570w","/static/79b5407a4e5789494fae0de9ef68acde/267c0/vpn-as-proxy.png 1140w","/static/79b5407a4e5789494fae0de9ef68acde/a0792/vpn-as-proxy.png 1608w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"text","value":"VPN作为HTTP代理服务器的最终方案"}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"设置代理"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"最后一步，如何给一个程序设置代理呢？"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这个需要根据程序而定，一般是如下的策略："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"有的程序自己有设置代理的设置，需要看程序的帮助界面\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"如"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"git"}]},{"type":"text","value":"、"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":"等"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"GUI程序一般会跟随系统代理设置\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"去系统的设置菜单里寻找"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"一般命令行程序会使用"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"HTTP_PROXY"}]},{"type":"text","value":"、"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"HTTPS_PROXY"}]},{"type":"text","value":"、"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"http_proxy"}]},{"type":"text","value":"和"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"https_proxy"}]},{"type":"text","value":"环境变量的值作为代理服务器"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在我们的原始需求中，我们使用的git。所以，我们可以在仓库中使用"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"git config http.proxy 代理地址"}]},{"type":"text","value":"和"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"git config https.proxy 代理地址"}]},{"type":"text","value":"来设置，使得这个仓库的pull和push操作都使用代理地址对应的代理服务器。我们只在仓库层面进行设置，只有这个仓库的操作会走这个代理服务器，其他仓库不会使用这个代理服务器。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"figure","properties":{"className":["gatsby-resp-image-figure"],"style":""},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1013px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 27.017543859649123%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6UlEQVQY0x3NyW6DMBRA0WxrPADBIwYb8zzhBtSkUv//z6rk7K/ujSs36Tyv5S5GJL+w6TqN7tPEJ2I1sgppSWZjjTVYYSywVHLzWwhhGIbbdZ3frbbWUkreewAIIcQYQ9hLKfEDAB6PR601xeRWZ601xmCMb4tv2v/6/TzO4n6cPWf/dLUdrax/r+11Lc8rnOdVjiKj7BemZ51Tzjm/z1x7MZd1a4u3HCaZBIfJeecWXqPIwBNo2KMyCgnUCaS02j/e8Q4plQNiFZILI+hIOoYopZTgnqKeIUYRY/04jmTAmGHWs+GDEPIPtS0hArqhHw8AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"git使用代理访问内网仓库","title":"git使用代理访问内网仓库","src":"/static/8aaffe773d4ebea83c7a9d0f383095bc/74cc6/git-proxy.png","srcSet":["/static/8aaffe773d4ebea83c7a9d0f383095bc/5459c/git-proxy.png 285w","/static/8aaffe773d4ebea83c7a9d0f383095bc/2cee3/git-proxy.png 570w","/static/8aaffe773d4ebea83c7a9d0f383095bc/74cc6/git-proxy.png 1013w"],"sizes":"(max-width: 1013px) 100vw, 1013px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"figcaption","properties":{"className":["gatsby-resp-image-figcaption"]},"children":[{"type":"text","value":"git使用代理访问内网仓库"}]},{"type":"text","value":"\n  "}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"借助Docker的实现"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"根据这个原理，我编写了一套使用Docker容器来实现这个解决方案的脚本，可以在经过简单的设置之后，使用一条"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"docker-compose up"}]},{"type":"text","value":"命令就可以简单地启动这样一个代理服务器，方便使用。由于使用了docker，所以Windows/*nix等支持docker的操作系统全部支持。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"仓库地址为："},{"type":"element","tagName":"a","properties":{"href":"https://github.com/ddadaal/vpn-as-http-proxy"},"children":[{"type":"text","value":"https://github.com/ddadaal/vpn-as-http-proxy"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"感兴趣的同学可以进入仓库参考一下使用方法和实现原理。使用方法写在README文件中了。由于每个学校和组织的VPN地址、参数等都不相同，我也鼓励大家尝试找到连接自己学校的VPN的命令，并将命令模板通过PR方式贡献给本仓库，这样使得更多的同学能够更简单地使用这个解决方案。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"style","properties":{"className":["grvsc-styles"]},"children":[{"type":"text","value":"\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n"}]}],"data":{"quirksMode":false}},"headings":[{"depth":1,"value":"需求","slug":"需求"},{"depth":1,"value":"代理","slug":"代理"},{"depth":1,"value":"如果有在内网的代理服务器……","slug":"如果有在内网的代理服务器"},{"depth":1,"value":"最终方案：把连接到VPN的服务器作为代理","slug":"最终方案把连接到vpn的服务器作为代理"},{"depth":1,"value":"设置代理","slug":"设置代理"},{"depth":1,"value":"借助Docker的实现","slug":"借助docker的实现"}]}},
    "staticQueryHashes": ["3830103294"]}