{"componentChunkName":"component---src-templates-article-page-template-tsx","path":"/articles/department-gitlab-ci-configuration","result":{"pageContext":{"id":"department-gitlab-ci-configuration","lang":"cn","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"动机"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"因为"},{"type":"element","tagName":"del","properties":{},"children":[{"type":"text","value":"作业要求"}]},{"type":"text","value":"想尝试持续集成的效果，又因为很多开源CI平台不支持自建平台（例如Travis CI），院的GitLab也不开放Shared Runner，所以只能手动配置Runner。在整个配置的过程中，遇到了很多让人很无语的坑。在这里记下来，以让大家参考。同时也记下来折腾的过程。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"先放一张效果图。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 866px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 29.122807017543863%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVQY043PTU7EMAwF4BybE3ACJE7AYg7CHonFDBIaZtSqoonzYzdJ7Yam0EJZseCTZb2F38KKOLmMYRwySxxlZBk3zLzvdUR4PciSZfrYqW4wZ9829K4pNTYaT0brvtfOOQDjNlprMNBZumjsQyxl+qZiijmNkXKKKac4z/Pyl1rrb543tVZ1Op5eLsfnt6dre23arpSy/Js6PBzuH2/vXm+a4bwsy1QmZp52IsLMIj9ZtiTCIrKWAQAsWG8BIAQkGqxd//TeIaJ3PmAIISAiEXm/JiJMKX2VPwFcmFZQIu5Q9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"buildsuccess","title":"buildsuccess","src":"/static/42469d00c92c6793ef7869d80da60291/ecf7e/buildsuccess.png","srcSet":["/static/42469d00c92c6793ef7869d80da60291/5459c/buildsuccess.png 285w","/static/42469d00c92c6793ef7869d80da60291/2cee3/buildsuccess.png 570w","/static/42469d00c92c6793ef7869d80da60291/ecf7e/buildsuccess.png 866w"],"sizes":"(max-width: 866px) 100vw, 866px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"项目地址：\n"},{"type":"element","tagName":"a","properties":{"href":"http://101.37.19.32:10080/161250010/gitlabcitest"},"children":[{"type":"text","value":"http://101.37.19.32:10080/161250010/gitlabcitest"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"GitLab版本过老，需要使用老版本的runner"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"院的GitLab版本是"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 6.315789473684211%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAASElEQVQI1wE9AML/APv7+9jY2Nzc3ODg4OHh4dvb29zc3Nvb29/f39nZ2dzc3OLi4t7e3+Xl5e3t7fH19fC8weuOmeyVnu+nr0CIMzhn6bIaAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"gitlabversion","title":"gitlabversion","src":"/static/576ddb0087da47ea4f57e6fad0949068/267c0/gitlabversion.png","srcSet":["/static/576ddb0087da47ea4f57e6fad0949068/5459c/gitlabversion.png 285w","/static/576ddb0087da47ea4f57e6fad0949068/2cee3/gitlabversion.png 570w","/static/576ddb0087da47ea4f57e6fad0949068/267c0/gitlabversion.png 1140w","/static/576ddb0087da47ea4f57e6fad0949068/4cc5e/gitlabversion.png 1475w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"。截止当前（2017/11/6）GitLab CE已经更新到了大版本10，这个8.10版本官方早就已经放弃治疗，甚至在gitlab-runner的"},{"type":"element","tagName":"a","properties":{"href":"https://docs.gitlab.com/runner/index.html#compatibility-chart"},"children":[{"type":"text","value":"兼容性页面"}]},{"type":"text","value":"上都找不到这个版本的信息。"},{"type":"element","tagName":"del","properties":{},"children":[{"type":"text","value":"看来你院使用过时技术的传统看来还要继续延续多年。"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"所以现在在官网的"},{"type":"element","tagName":"a","properties":{"href":"https://docs.gitlab.com/runner/install/linux-repository.html"},"children":[{"type":"text","value":"GitLab Runner安装教程"}]},{"type":"text","value":"已经不适合。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果使用新版本的gitlab runner运行的话，会提示**405（Method Not Allowed）**错误。这是由于新版本的Runner会使用GitLab从9.0开始换用的新的GitLab API v4，而8.x版本仍然使用老版本的API。这就造成了错误。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"同时，Runner从10版本从"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gitlab-ci-multi-runner"}]},{"type":"text","value":"更名为"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gitlab-runner"}]},{"type":"text","value":"，但是配置方法大致一样。配置可以参考这个"},{"type":"element","tagName":"a","properties":{"href":"https://docs.gitlab.com/runner/register/index.html"},"children":[{"type":"text","value":"链接"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"GitLab正确的安装和配置方法方法如下（以Ubuntu 16.04 x64通过apt-get举例）："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"根据"},{"type":"element","tagName":"a","properties":{"href":"https://docs.gitlab.com/runner/install/old.html"},"children":[{"type":"text","value":"这个"}]},{"type":"text","value":"设置老版本的apt源;"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"运行安装命令："},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo apt-get install gitlab-ci-multi-runner=1.9.5"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"配置时使用命令："},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo gitlab-ci-multi-runner register"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"配置好了后，runner页面应该能看到提示的可用的runner。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Ubuntu官方源Node版本太低"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"配置好了runner，我首先使用了我的博客前端的程序用来做测试。为了简化，使用了shell executor。这就需要配置runner机器的环境。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"先写一份"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".gitlab-ci.yml"}]},{"type":"text","value":"文件。我使用的文件如下："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","dark-default-dark"],"dataLanguage":"yaml","dataIndex":"0"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"stages"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":":"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  - "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"build"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"buildjob"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":":"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"stage"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":": "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"build"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"script"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":":"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    - "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"npm install"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    - "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"python cleanup.py"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    - "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"set NODE_ENV=production"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    - "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"webpack -p --color"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"cache"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":":"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"paths"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":":"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"      - "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"./node_modules/"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"直接敲"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo apt-get install nodejs"}]},{"type":"text","value":"，然后就开始build。结果在build的时候才发现node版本很低……"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 32.280701754385966%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVQY043Gy07CQBhA4VkYE2NMREqlKbRM51Yubf9O6+05NO4QasGFxi1IjIKQgL6G5S2FYqgSdefJtzjoI00Xqz8tF8vVP0rTFL0n82Yrur27j+Ludacbd26arfbVWvStHf18ph3F5xeXSTJH/UFf1RS7JnSjpGr64YaiFvcPCrn8L4r6pVDU0NZ272GAXiZDi5vyCFxwuF1jopqxKbeZqFJuE8oJE4QJTCgmtGJRwkQuXxiOxmg0nmDGw5MzkCHI0PW8hguO57vguyAdkKJatyjHhJmYGNjSy2bJqOzs7j0+PaPp7M2iPDw+BRmADD1fZtYPfpBN4LhQd7zGhgeybODp7PUTsBx+jfNv4x8AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"lownodeversion","title":"lownodeversion","src":"/static/ca0d69fcfc7379e9af7bf486c311db7b/267c0/lownodeversion.png","srcSet":["/static/ca0d69fcfc7379e9af7bf486c311db7b/5459c/lownodeversion.png 285w","/static/ca0d69fcfc7379e9af7bf486c311db7b/2cee3/lownodeversion.png 570w","/static/ca0d69fcfc7379e9af7bf486c311db7b/267c0/lownodeversion.png 1140w","/static/ca0d69fcfc7379e9af7bf486c311db7b/78a90/lownodeversion.png 1710w","/static/ca0d69fcfc7379e9af7bf486c311db7b/bdf18/lownodeversion.png 1948w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"只能自己设置apt源了。Node官方提供的源说明"},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/en/download/package-manager/"},"children":[{"type":"text","value":"参照这个链接"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"构建时内存提示不足"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"上传后，pipeline自动开始build。然而虽然想到了Node非常耗费内存，但是没想到512M内存都不够吃……跑"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install"}]},{"type":"text","value":"的时候被bash无情杀掉。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 7.017543859649122%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANklEQVQI1yXHywkAIAwEUUvRdZP4iff0X5kY4TEwJSL8+No+1wYVVBtGsdaZpHUBteJtVir4XRuHCMgzr8wQAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"notenoughmem","title":"notenoughmem","src":"/static/0fd6d55d36e75cf880efdc7b49bfa97f/267c0/notenoughmem.png","srcSet":["/static/0fd6d55d36e75cf880efdc7b49bfa97f/5459c/notenoughmem.png 285w","/static/0fd6d55d36e75cf880efdc7b49bfa97f/2cee3/notenoughmem.png 570w","/static/0fd6d55d36e75cf880efdc7b49bfa97f/267c0/notenoughmem.png 1140w","/static/0fd6d55d36e75cf880efdc7b49bfa97f/6de9d/notenoughmem.png 1576w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"后来把内存加到2G才够npm install使用。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"为了简化工程，后来使用了"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/mobxjs/mobx-react-typescript-boilerplate.git"},"children":[{"type":"text","value":"Mobx官方提供的boilderplate项目"}]},{"type":"text","value":"作为测试。这也就是现在的项目。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"你正在成功！"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"成功了！折腾了这些后，终于成功build了一次。\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1140px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 28.421052631578945%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAw0lEQVQY021R0Q7CMAjs/3+frz75NE3rpnUbFDhDa5dNJSFtw3F30EDEWJYFzIx1XetZSoGZQVUhqvXcp9d6/TsDsUBF6sOJnNTvgKFHJ/D06NjvmmegwlurmYKYP2rAg2ZcnsOh0UNEDlPshcPwSmBparQSrsMNMSUQK4Y84RTPP4RFC8S0rifnXFfmIh5hogzR9mBixJgqaKYCLvZ3ZMertbEdS0Sb0xCX6UA43seqpmrtQ+w4UnMo1aHj3J3vvTt8AywO2L/igmyUAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"buildstatus","title":"buildstatus","src":"/static/38bc1cd7b07d6ebaf8bd0ed65523b64b/267c0/buildstatus.png","srcSet":["/static/38bc1cd7b07d6ebaf8bd0ed65523b64b/5459c/buildstatus.png 285w","/static/38bc1cd7b07d6ebaf8bd0ed65523b64b/2cee3/buildstatus.png 570w","/static/38bc1cd7b07d6ebaf8bd0ed65523b64b/267c0/buildstatus.png 1140w","/static/38bc1cd7b07d6ebaf8bd0ed65523b64b/fc617/buildstatus.png 1431w"],"sizes":"(max-width: 1140px) 100vw, 1140px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"还给README.md加上了badge（题图）"},{"type":"element","tagName":"a","properties":{"href":"https://docs.gitlab.com/ee/ci/pipelines.html#badges"},"children":[{"type":"text","value":"(教程)"}]},{"type":"text","value":"，这样看上去就非常像是一个非常好的开源项目。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"结语"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"GitLab CI确实是非常好用的工具，它能和GitLab无缝集成，而且非常的简单易用（这些坑都不是GitLab的）。这几天我会把整个软工2项目的CI环境搭建好，需要学习控制台下gradle相关命令以及Linux下的一些配置，这样真正开始开发的时候才能更高效。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"style","properties":{"className":["grvsc-styles"]},"children":[{"type":"text","value":"\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n"}]}],"data":{"quirksMode":false}},"headings":[{"depth":1,"value":"动机","slug":"动机"},{"depth":2,"value":"GitLab版本过老，需要使用老版本的runner","slug":"gitlab版本过老，需要使用老版本的runner"},{"depth":1,"value":"Ubuntu官方源Node版本太低","slug":"ubuntu官方源node版本太低"},{"depth":1,"value":"构建时内存提示不足","slug":"构建时内存提示不足"},{"depth":1,"value":"你正在成功！","slug":"你正在成功！"},{"depth":1,"value":"结语","slug":"结语"}]}},"staticQueryHashes":["3830103294"]}