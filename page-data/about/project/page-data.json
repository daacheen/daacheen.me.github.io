{"componentChunkName":"component---src-templates-article-page-template-tsx","path":"/about/project","result":{"pageContext":{"id":"about-project","lang":"cn","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"项目信息"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://actions-badge.atrox.dev/ddadaal/ddadaal.me/goto"},"children":[{"type":"element","tagName":"img","properties":{"src":"https://img.shields.io/endpoint.svg?url=https%3A%2F%2Factions-badge.atrox.dev%2Fddadaal%2Fddadaal.me%2Fbadge&style=flat-square","alt":"GitHub Actions"},"children":[]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ddadaal.me是一个基于Gatsby开发的网站，并未使用现成网站/博客框架（例如WordPress, Typecho、Hexo等），欢迎讨论和贡献本项目。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"项目地址："},{"type":"element","tagName":"a","properties":{"href":"https://github.com/ddadaal/ddadaal.me"},"children":[{"type":"text","value":"https://github.com/ddadaal/ddadaal.me"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"一个个人博客的史诗"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ddadaal.me经历了很多，才变成你现在看到这个网站。想知道ddadaal.me、其前身VicBlog和我在这个从2010年开始的史诗中的经历，请看"},{"type":"element","tagName":"a","properties":{"href":"/en/about/odyssey"},"children":[{"type":"text","value":"一个个人博客的史诗"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"历史实现"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"自从2016年开始，ddadaal.me已经用多种技术栈实现过。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"目前的实现"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/ddadaal/ddadaal.me"},"children":[{"type":"text","value":"ddadaal.me"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"自从2018年8月起"}]},{"type":"text","value":"，网站转为使用"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Gatsby"}]},{"type":"text","value":"框架实现，成为了一个"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"静态"}]},{"type":"text","value":"网站。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"现在的版本既不是"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"前后端分离"}]},{"type":"text","value":"，因为没有一个"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"动态获取和提供数据给前端"}]},{"type":"text","value":"的后端服务器，也不是动态获取数据、拼接HTML模板字符串的"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"传统网站"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"整个网站是完全使用"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"前端技术"}]},{"type":"text","value":"实现的。"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"网站本身"}]},{"type":"text","value":"是使用"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React"}]},{"type":"text","value":"编写的，而"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"内容（文章）"}]},{"type":"text","value":"采用"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"markdown"}]},{"type":"text","value":"格式。在网站开发和文章写作的过程，两部分是完全分离的：在写文章的时候不需要修改网站代码；在写网站代码的时候，也不关心文章有多少、具体内容是什么。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"构建"}]},{"type":"text","value":"时，"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"内容"}]},{"type":"text","value":"被"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"转换"}]},{"type":"text","value":"成为JS对象，之后这些对象通过"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"props"}]},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"提供"}]},{"type":"text","value":"给"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"网站代码"}]},{"type":"text","value":"。有了数据，网站代码被执行，React树被"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"服务器端渲染"}]},{"type":"text","value":"成HTML/CSS字符串。浏览器可以在不执行JS的情况下直接根据这些字符串显示"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"首屏"}]},{"type":"text","value":"。然后，这些HTML/CSS文件，再加上编译过的JS文件，就被"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"发布"}]},{"type":"text","value":"到了服务器（目前是"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GitHub Pages"}]},{"type":"text","value":"），这些服务器的唯一作用就是"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"提供这些静态文件"}]},{"type":"text","value":"给浏览器。这种做法一般被称为"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"预渲染(prerender)"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这样的实现"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"不需要服务器有运算能力"}]},{"type":"text","value":"，因为所有运算都在构建期间完成了，服务器端只存储和为客户端提供构建好的HTML/CSS/JS文件，所以这样能够做到"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"高效的缓存"}]},{"type":"text","value":"、"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"简单的维护"}]},{"type":"text","value":"和"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"低（甚至为0）的成本"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这样做的缺点是，网站的"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"所有内容"}]},{"type":"text","value":"都在构建期间确定，所以要实现一些需要动态加载和修改内容的功能，例如"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"评论"}]},{"type":"text","value":"和"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"访客记录"}]},{"type":"text","value":"，都需要额外引入服务器或者服务提供商，并像前后端分离一样通过API操作数据。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"为了实现"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"评论"}]},{"type":"text","value":"功能，我使用了"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gitalk/gitalk"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gitalk"}]}]},{"type":"text","value":"，它将数据存储在了GitHub Issues上。对于访客记录，"},{"type":"element","tagName":"del","properties":{},"children":[{"type":"text","value":"我部署了一个"},{"type":"element","tagName":"a","properties":{"href":"https://matomo.org/"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"matomo"}]}]},{"type":"text","value":"实例在我的一台腾讯云机器上，然后在前端界面上注入一个JS脚本，这个脚本将会记录用户的使用情况，并发送到这个"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"matomo"}]},{"type":"text","value":"服务器上。"}]},{"type":"text","value":"我使用了"},{"type":"element","tagName":"a","properties":{"href":"https://web.umeng.com/main.php?c=user&a=index"},"children":[{"type":"text","value":"友盟的网站统计"}]},{"type":"text","value":"，免费、部署在国内，而且对我来说已经足够了。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"历史版本"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"React + ASP.NET Core SPA 第二版（从2017年3月）"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/ddadaal/VicBlog-Frontend"},"children":[{"type":"text","value":"VicBlog-Frontend"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/ddadaal/VicBlog-Backend"},"children":[{"type":"text","value":"VicBlog-Backend"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这是一个前端采用"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React"}]},{"type":"text","value":" + "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"MobX"}]},{"type":"text","value":" + "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"TypeScript"}]},{"type":"text","value":"，后端采用"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ASP.NET Core"}]},{"type":"text","value":" + "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Entity Framework Core"}]},{"type":"text","value":"的完整的单页应用（SPA）。前后端采用RESTful API进行通信，前端部署于"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GitHub Pages"}]},{"type":"text","value":"，后端部署于"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Microsoft Azure"}]},{"type":"text","value":"。在这个版本结束生命周期之前，这个版本实现了我对一个个人博客所需要的所有功能。它基于前一个SPA版本，并且进行了全面的重构，获得了更好的代码可读性、性能和可维护性。但是最终，因为同时维护前后端太过麻烦以及低于预期的性能，它还是被放弃了。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"React + ASP.NET Core SPA 第一版（从2016年12月）"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这些代码被第二版的代码覆盖了。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这是我第一次写前后端分离的网站。我使用了当时最新的技术，"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Redux"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"TypeScript"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Ant Design"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ASP.NET Core"}]},{"type":"text","value":"和"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RESTful API"}]},{"type":"text","value":"。它的初版开始花费了一个月，然后被部署到了GitHub Pages和Azure。但是呢，由于经验和能力不足，这个版本的代码质量有巨大的问题，所以在2017年3月就被抛弃并且重写了。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Flask（从2016年10月）"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/ddadaal/VicBlog-Flask"},"children":[{"type":"text","value":"VicBlog-Flask"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这是我第一次完整地写一个网站。因为当时什么都不懂，我就选择了当时最火地、宣称简单易学的Flask技术栈。后端采用了Flask作为Web框架、MongoDB作为数据库，在前端采用了jQuery和Bootstrap。它的开发和上线应该只用了几周。上线一两个月后，由于SPA和前后端分离的开发方式成为了主流，它很快就被下线了。"}]}],"data":{"quirksMode":false}},"headings":[{"depth":1,"value":"项目信息","slug":"项目信息"},{"depth":1,"value":"一个个人博客的史诗","slug":"一个个人博客的史诗"},{"depth":1,"value":"历史实现","slug":"历史实现"},{"depth":2,"value":"目前的实现","slug":"目前的实现"},{"depth":2,"value":"历史版本","slug":"历史版本"},{"depth":3,"value":"React + ASP.NET Core SPA 第二版（从2017年3月）","slug":"react--aspnet-core-spa-第二版（从2017年3月）"},{"depth":3,"value":"React + ASP.NET Core SPA 第一版（从2016年12月）","slug":"react--aspnet-core-spa-第一版（从2016年12月）"},{"depth":3,"value":"Flask（从2016年10月）","slug":"flask（从2016年10月）"}]}},"staticQueryHashes":["315395425"]}