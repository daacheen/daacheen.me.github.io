{"version":3,"sources":["webpack://ddadaal.me/./src/components/Article/CommentPanel.tsx","webpack://ddadaal.me/./src/layouts/BannerLayout.tsx","webpack://ddadaal.me/./src/layouts/LayeredLayout.tsx","webpack://ddadaal.me/./src/layouts/Page.tsx","webpack://ddadaal.me/./src/pages/feedback.tsx"],"names":["CommentDiv","styled","root","lang","CommentPanel","props","React","isServer","mount","setMount","firstUpdate","useEffect","current","language","id","title","options","clientID","clientSecret","repo","owner","admin","articleTitle","articleId","substring","distractionFreeMode","proxy","undefined","CommentPanelWithCurrentLanguage","i18nStore","useI18nStore","currentLanguage","gitalkLangId","cn","BannerLayout","transparentHeader","banner","children","RootContainer","InnerContainer","BannerContainer","BaseRootContainer","heights","colors","BaseInnerContainer","moveInAnimation","BannerLayoutTitle","BannerLayoutDescription","StyledPage","StyledContainer","maxWidth","className","widths","titleId","paragraph1","paragraph2","paragraph3","color","size"],"mappings":"uPAiBMA,EAAaC,oBAAH,oEAAGA,CAAH,sDAQVC,EAAOC,cAEPC,EAAgC,SAACC,GAErC,MAA0BC,aAAgBC,UAAnCC,EAAP,KAAcC,EAAd,KAEMC,EAAcJ,UAAa,GAgBjC,OAdAK,gBAAU,WACJD,EAAYE,QACdF,EAAYE,SAAU,EAGxBH,GAAS,KACR,CAACJ,EAAMQ,YAEVF,gBAAU,YACHJ,UAAeC,GAClBC,GAAS,MAKX,gBAACT,EAAD,KACE,0BACE,gBAAC,MAAD,MACA,gBAAC,KAAD,CAAiBc,GAAIZ,EAAKa,SAG1BP,EAEI,gBAAC,IAAD,CAAiBQ,QAAS,CACxBC,SAAU,uBACVC,aAAc,2CACdC,KAAM,uBACNC,MAAO,UACPC,MAAO,CAAC,WACRR,SAAUR,EAAMQ,SAChBE,MAAM,aAAcV,EAAMiB,aAC1BR,GAAIT,EAAMkB,UAAUC,UAAU,EAAG,IACjCC,qBAAqB,EAErBC,MAAO,iGAITC,IAMNC,EAAqE,SAACvB,GAAW,IAAD,EAC9EwB,GAAYC,UAElB,OACE,gBAAC1B,EAAD,iBACMC,EADN,CAEEQ,SAAQ,UAAEgB,EAAUE,gBAAgBC,oBAA5B,QAA4CC,uB,kLCpEpDC,EAAgC,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAClE,OACE,gBAAC,IAAD,CAAoBF,kBAAmBA,GACrC,gBAACG,EAAD,KACE,gBAACC,EAAD,KACE,gBAACC,EAAD,KACGJ,KAINC,IAKDC,GAAgBrC,QAAOwC,KAAV,8EAAGxC,CAAH,kDACPyC,YAEUC,eAIhBJ,GAAiBtC,QAAO2C,KAAV,+EAAG3C,CAAH,gHACRyC,YAKGG,KAGTL,EAAkBvC,oBAAH,qEAAGA,CAAH,4DAMf6C,EAAoB7C,mBAAH,uEAAGA,CAAH,kCAKjB8C,EAA0B9C,mBAAH,6EAAGA,CAAH,qC,uGCvDhBqC,EAAgBrC,oBAAH,wEAAGA,CAAH,wBAIbsC,EAAiBtC,oBAAH,yEAAGA,CAAH,oC,8ECDrB+C,EAAa/C,oBAAH,2DAAGA,CAAH,mKA0BVgD,EAAkBhD,oBAAH,gEAAGA,CAAH,kHAKN,qBAAGiD,WAEHL,KAgBf,IAb8B,SAAC,GAGxB,IAFLM,EAEI,EAFJA,UAAWd,EAEP,EAFOA,SAEP,IADJa,gBACI,MADOE,iBACP,EACJ,OACE,gBAACJ,EAAD,KACE,gBAACC,EAAD,CAAiBC,SAAUA,EAAUC,UAAWA,GAC7Cd,M,uICtCHnC,EAAOC,cAsBb,UApB+B,WAE7B,OACE,gBAAC,IAAD,CAAoBgC,mBAAmB,GACrC,gBAAC,IAAD,CACEkB,QAASnD,EAAKa,QAEhB,gBAAC,IAAD,KACE,gBAAC,IAAD,KAAmB,gBAAC,KAAD,CAAiBD,GAAIZ,EAAKa,SAC7C,yBAAG,gBAAC,KAAD,CAAiBD,GAAIZ,EAAKoD,cAC7B,yBAAG,gBAAC,KAAD,CAAiBxC,GAAIZ,EAAKqD,cAC7B,yBAAG,gBAAC,KAAD,CAAiBzC,GAAIZ,EAAKsD,cAC7B,gBAAC,IAAD,CAAUC,MAAO,QAASC,KAAM,MAChC,gBAAC,IAAD,CAAiCnC,UAAU,WAAWD,aAAa","file":"component---src-pages-feedback-tsx-6d6b921edf6307554228.js","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport styled from \"styled-components\";\nimport { FaComments } from \"react-icons/fa\";\n\nimport \"gitalk/dist/gitalk.css\";\nimport { LocalizedString } from \"simstate-i18n\";\nimport { lang, cn, useI18nStore } from \"@/i18n\";\nimport GitalkComponent from \"gitalk/dist/gitalk-component\";\nimport isServer from \"@/utils/isServer\";\n\ninterface Props {\n  articleId: string;\n  articleTitle: string;\n  language: string;\n}\n\nconst CommentDiv = styled.div`\n  margin-top: 32px;\n\n  .gt-action-text {\n    color: #6190e8;;\n  }\n`;\n\nconst root = lang.comments;\n\nconst CommentPanel: React.FC<Props> = (props) => {\n\n  const [mount, setMount] = React.useState(!isServer());\n\n  const firstUpdate = React.useRef(true);\n\n  useEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n    setMount(false);\n  }, [props.language]);\n\n  useEffect(() => {\n    if (!isServer() && !mount) {\n      setMount(true);\n    }\n  });\n\n  return (\n    <CommentDiv>\n      <h3>\n        <FaComments />\n        <LocalizedString id={root.title} />\n      </h3>\n      {\n        mount\n          ? (\n            <GitalkComponent options={{\n              clientID: \"5640259688bc3d72b807\",\n              clientSecret: \"bbe26de2fca2ea86e49a98e883caf9ff3102c4ff\",\n              repo: \"ddadaal.me.github.io\",\n              owner: \"ddadaal\",\n              admin: [\"ddadaal\"],\n              language: props.language,\n              title: `[COMMENT] ${props.articleTitle}`,\n              id: props.articleId.substring(0, 50),\n              distractionFreeMode: false,\n              // eslint-disable-next-line max-len\n              proxy: \"https://fierce-chamber-01587.herokuapp.com/https://github.com/login/oauth/access_token\",\n            }}\n            />\n          )\n          : undefined\n      }\n    </CommentDiv>\n  );\n};\n\nconst CommentPanelWithCurrentLanguage: React.FC<Omit<Props, \"language\">> = (props) => {\n  const i18nStore = useI18nStore();\n\n  return (\n    <CommentPanel\n      {...props}\n      language={i18nStore.currentLanguage.gitalkLangId ?? cn.gitalkLangId}\n    />\n  );\n};\n\nexport { CommentPanel as default, CommentPanelWithCurrentLanguage };\n","import React from \"react\";\nimport HeaderFooterLayout from \"./HeaderFooterLayout\";\nimport styled from \"styled-components\";\nimport { heights, colors } from \"@/styles/variables\";\nimport {\n  RootContainer as BaseRootContainer,\n  InnerContainer as BaseInnerContainer,\n} from \"@/layouts/LayeredLayout\";\nimport moveInAnimation from \"@/styles/moveInAnimation\";\n\ninterface Props {\n  transparentHeader: boolean;\n  banner: React.ReactNode;\n}\n\nconst BannerLayout: React.FC<Props> = ({ transparentHeader, banner, children }) => {\n  return (\n    <HeaderFooterLayout transparentHeader={transparentHeader}>\n      <RootContainer>\n        <InnerContainer>\n          <BannerContainer>\n            {banner}\n          </BannerContainer>\n        </InnerContainer>\n      </RootContainer>\n      {children}\n    </HeaderFooterLayout>\n  );\n};\n\nconst RootContainer = styled(BaseRootContainer)`\n  height: ${heights.banner}px;\n  width: 100%;\n  background-color: ${colors.headerBg};\n\n`;\n\nconst InnerContainer = styled(BaseInnerContainer)`\n  height: ${heights.banner}px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: ${moveInAnimation} 0.2s ease-out;\n`;\n\nconst BannerContainer = styled.div`\n  text-align: center;\n  color: white;\n  padding: 0px 8px 8px 8px;\n`;\n\nconst BannerLayoutTitle = styled.h1`\n  font-size: 2em;\n  padding: 4px 0;\n`;\n\nconst BannerLayoutDescription = styled.h2`\n  font-size: 0.9em;\n  padding: 4px 0;\n`;\n\nexport { BannerLayout as default, BannerLayoutTitle, BannerLayoutDescription };\n","import styled from \"styled-components\";\n\nexport const RootContainer = styled.div`\n  position: relative;\n`;\n\nexport const InnerContainer = styled.div`\n  position: absolute;\n  width: 100%;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { widths } from \"@/styles/variables\";\nimport moveInAnimation from \"@/styles/moveInAnimation\";\n\nconst StyledPage = styled.div`\n  display: block;\n  flex: 1;\n  position: relative;\n  padding: 16px;\n\n  img {\n    max-width: 100%;\n  }\n\n  table {\n    display: inline-block;\n    overflow-x: auto;\n  }\n\n  blockquote p:last-child {\n    margin-bottom: 0;\n  }\n`;\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  maxWidth?: number;\n}\n\nconst StyledContainer = styled.div<{ maxWidth: number }>`\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  width: auto;\n  max-width: ${({ maxWidth }) => maxWidth}px;\n\n  animation: ${moveInAnimation} 0.2s ease-out;\n`;\n\nconst Page: React.FC<Props> = ({\n  className, children,\n  maxWidth = widths.mainContent,\n}) => {\n  return (\n    <StyledPage>\n      <StyledContainer maxWidth={maxWidth} className={className}>\n        {children}\n      </StyledContainer>\n    </StyledPage>\n  );\n};\n\nexport default Page;\n","import React from \"react\";\r\nimport Page from \"@/layouts/Page\";\r\nimport { BannerLayoutTitle } from \"@/layouts/BannerLayout\";\r\nimport { lang } from \"@/i18n\";\r\nimport { LocalizedString } from \"simstate-i18n\";\r\nimport Contacts from \"@/components/Contacts\";\r\nimport { CommentPanelWithCurrentLanguage } from \"@/components/Article/CommentPanel\";\r\nimport HeaderFooterLayout from \"@/layouts/HeaderFooterLayout\";\r\nimport { PageMetadata } from \"@/components/PageMetadata\";\r\n\r\nconst root = lang.feedback;\r\n\r\nconst FeedbackPage: React.FC = () => {\r\n\r\n  return (\r\n    <HeaderFooterLayout transparentHeader={false}>\r\n      <PageMetadata\r\n        titleId={root.title}\r\n      />\r\n      <Page>\r\n        <BannerLayoutTitle><LocalizedString id={root.title} /></BannerLayoutTitle>\r\n        <p><LocalizedString id={root.paragraph1} /></p>\r\n        <p><LocalizedString id={root.paragraph2} /></p>\r\n        <p><LocalizedString id={root.paragraph3} /></p>\r\n        <Contacts color={\"white\"} size={1.4} />\r\n        <CommentPanelWithCurrentLanguage articleId=\"feedback\" articleTitle=\"反馈\" />\r\n      </Page>\r\n    </HeaderFooterLayout>\r\n\r\n  );\r\n};\r\n\r\nexport default FeedbackPage;\r\n"],"sourceRoot":""}